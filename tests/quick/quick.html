<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quick Tests</title>
  </head>
  <body>
    <div id="root"></div>

    <script src="/dist/main.js"></script>
    <!-- <script src="/src/import-component/transpile.js"></script> -->

    <script type="module">
      import { transpile } from "/src/import-component/transpile.js";
      import * as odom from "/src/main.js";

      const src = "/tests/functionality/assets/assets/html-component.html";
      const html = await (await fetch(src)).text();

      (async () => {
        const First = async () => {
          const markup = `<div></div>`;

          const styles = `
            :scope {
              width: 500px;
              height: 500px;
              background-color: green;
            }
          `;

          return odom.createComponent({ markup, styles });
        };

        const Second = async () => {
          const markup = `<div></div>`;

          const styles = `
            :scope {
              width: 500px;
              height: 500px;
              background-color: red;
            }
          `;

          return odom.createComponent({ markup, styles });
        };

        const first = await First();
        const second = await Second();
        first.render("#root");

        setTimeout(() => {
          second.render(document.body.firstElementChild);
        }, 3000);
      })();
    </script>
  </body>
</html>
